\section{Stage 4: Extension Build} \label{sec:work_stage4_extension_build}

The last stage was to build an extension for an IDE, VSCode. This extension allows the user to have a better understanding of how much energy the code is consuming, and what are the methods, and variables that most affect it.
When opening the extension side page, it contains some sliders that can change the input values, and it has the estimate button, to predict the energy.
The sliders are updated when the document is saved.%, rather than on every change, to prevent performance slowdowns.

The extension works by parsing the Java file of the user, and gathering all the methods used that are already models that are trained. Then it finds which variables affect those methods, meaning the variables that are the inputs to the method, for example, in \texttt{list.add(i);}  the inputs and important variables are \texttt{list} and \texttt{i}.
The extension does this to every method it finds and groups it by method. In the end it creates groups of input variables for each method, and displays it in sliders. The sliders allow the user to change the input values and when pressing the estimate button, depending on the changed values, it will change the energy estimation.

If a method calls another user-defined method that already has an assigned energy cost (but is not a trained method), then the calling method will also include that energy cost.

When a trained method is called inside a loop, a new slider appears to represent the loop size. The methodâ€™s energy cost is multiplied by this loop size. In the case of nested loops, the energy cost is multiplied by the product of all nested loop sizes.

Note that only methods and variables that affect the energy appear on the panel.


